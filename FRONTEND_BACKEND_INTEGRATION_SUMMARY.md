# å‰å¾Œç«¯ä¸²æ¥å®Œæˆç¸½çµ

**æ—¥æœŸ**: 2025å¹´12æœˆ2æ—¥  
**ç‹€æ…‹**: âœ… å®Œæˆæ¸¬è©¦

---

## ğŸ“‹ åŸ·è¡Œå…§å®¹

### 1. ä¸‹è¼‰æ–°çš„å‰ç«¯æª”æ¡ˆ
å¾ `https://github.com/memory9802/AI-project/tree/blueprints-before/app/templates` ä¸‹è¼‰äº†ä»¥ä¸‹ä¸­æ–‡ç¶²é :

- âœ… `home.html` - æ–°çš„ä¸­æ–‡é¦–é  (å¸¶è¼ªæ’­åœ–å’Œæµ®å‹• AI å°è©±æ¡†)
- âœ… `wardrobe.html` - è¡£æ«ƒç®¡ç†é é¢
- âœ… `recommendation.html` - ç©¿æ­æ¨è–¦èŠå¤©é é¢
- âœ… `share.html` - åˆ†äº«äº’å‹•é é¢
- âœ… `login.html` - ç™»å…¥/è¨»å†Šé é¢
- âœ… `aichat.html` - AI èŠå¤©é é¢ (èˆ‡ index.html ç›¸åŒ)

### 2. ä¿®æ”¹å¾Œç«¯è·¯ç”± (`app/app.py`)

**æ–°å¢/ä¿®æ”¹çš„è·¯ç”±**:

```python
# é¦–é  - å¾ page1.html æ”¹ç‚º home.html
@app.route('/')
@app.route('/home')
def home():
    return render_template('home.html')

# è¡£æ«ƒé é¢
@app.route('/wardrobe')
def wardrobe():
    return render_template('wardrobe.html')

# åˆ†äº«äº’å‹•é é¢
@app.route('/share')
def share():
    return render_template('share.html')

# ç™»å…¥é é¢
@app.route('/login')
def login():
    return render_template('login.html')

# ç©¿æ­æ¨è–¦é é¢ (ç¨ç«‹é é¢ç‰ˆæœ¬)
@app.route('/recommendation')
def recommendation():
    return render_template('recommendation.html')

# AI æ¨è–¦é é¢ (iframe åµŒå…¥ç‰ˆæœ¬,ä¿æŒä¸è®Š)
@app.route('/recommend_page', methods=['GET', 'POST'])
def recommend_page():
    # ... ä¿æŒåŸæœ‰é‚è¼¯ ...
    return render_template('index.html', ...)
```

### 3. ä¿®æ­£å‰ç«¯é€£çµ

- âœ… ä¿®æ­£ `login.html` ä¸­çš„è¿”å›é¦–é é€£çµ: `home.html` â†’ `{{ url_for('home') }}`
- âœ… ç¢ºèªæ‰€æœ‰é é¢çš„å°èˆªé€£çµéƒ½ä½¿ç”¨ Flask çš„ `url_for()` å‡½æ•¸

### 4. æ¸…ç†èˆŠæª”æ¡ˆ

- âœ… å°‡ `app/static/` ç›®éŒ„ä¸­çš„èˆŠ HTML æª”æ¡ˆç§»åˆ° `app/static/old_html_backup/`
- âœ… ç§»é™¤äº†ä¸å­˜åœ¨çš„ `page1.html` å¼•ç”¨

### 5. Docker å„ªåŒ–

- âœ… å»ºç«‹ `.dockerignore` æª”æ¡ˆ,æ’é™¤ä¸å¿…è¦çš„å¤§æª”æ¡ˆ:
  - `node_modules/`
  - `*.sql` æª”æ¡ˆ
  - æ–‡ä»¶è³‡æ–™å¤¾
  - Git ç›¸é—œæª”æ¡ˆ
- âœ… é‡æ–°å»ºç½® Docker æ˜ åƒ: `docker compose up --build -d`

---

## ğŸ§ª æ¸¬è©¦çµæœ

æ‰€æœ‰é é¢éƒ½æˆåŠŸè¼‰å…¥ä¸¦é¡¯ç¤ºä¸­æ–‡å…§å®¹:

| è·¯ç”± | æ¸¬è©¦çµæœ | èªªæ˜ |
|------|---------|------|
| `http://localhost:5001/` | âœ… æˆåŠŸ | é¡¯ç¤ºæ–°çš„ä¸­æ–‡é¦–é ,lang="zh-TW" |
| `http://localhost:5001/home` | âœ… æˆåŠŸ | èˆ‡é¦–é ç›¸åŒ |
| `http://localhost:5001/wardrobe` | âœ… æˆåŠŸ | é¡¯ç¤ºã€Œæˆ‘çš„è¡£æ«ƒ â€” ä¸Šå‚³è¡£ç‰©ã€|
| `http://localhost:5001/recommendation` | âœ… æˆåŠŸ | é¡¯ç¤ºã€Œç©¿æ­æ¨è–¦ã€èŠå¤©ä»‹é¢ |
| `http://localhost:5001/share` | âœ… æˆåŠŸ | é¡¯ç¤ºã€Œç©¿æ­åˆ†äº«ã€é é¢ |
| `http://localhost:5001/login` | âœ… æˆåŠŸ | é¡¯ç¤ºã€Œç™»å…¥/è¨»å†Šã€é é¢ |
| `http://localhost:5001/recommend_page` | âœ… æˆåŠŸ | AI iframe ç‰ˆæœ¬ (çµ¦ home.html ç”¨) |

---

## ğŸ“‚ æª”æ¡ˆçµæ§‹

```
stylerec/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ app.py                    # âœ… æ›´æ–°è·¯ç”±
â”‚   â”œâ”€â”€ langchain_agent.py        # ä¿æŒä¸è®Š
â”‚   â”œâ”€â”€ ai_agent.py              # ä¿æŒä¸è®Š
â”‚   â”œâ”€â”€ templates/               # âœ… æ–°çš„ä¸­æ–‡ç¶²é 
â”‚   â”‚   â”œâ”€â”€ home.html           # æ–°é¦–é 
â”‚   â”‚   â”œâ”€â”€ wardrobe.html       # è¡£æ«ƒé 
â”‚   â”‚   â”œâ”€â”€ recommendation.html # æ¨è–¦é 
â”‚   â”‚   â”œâ”€â”€ share.html          # åˆ†äº«é 
â”‚   â”‚   â”œâ”€â”€ login.html          # ç™»å…¥é  (å·²ä¿®æ­£é€£çµ)
â”‚   â”‚   â”œâ”€â”€ aichat.html         # AI èŠå¤©
â”‚   â”‚   â””â”€â”€ index.html          # iframe ç‰ˆ (åŸæœ‰)
â”‚   â””â”€â”€ static/
â”‚       â”œâ”€â”€ aichat.js           # å°è©±æ¡†æ§åˆ¶
â”‚       â”œâ”€â”€ imgcarousel.js      # è¼ªæ’­åœ–
â”‚       â”œâ”€â”€ homecss.css         # æ¨£å¼
â”‚       â”œâ”€â”€ pic/                # åœ–ç‰‡è³‡æº
â”‚       â””â”€â”€ old_html_backup/    # âœ… èˆŠ HTML å‚™ä»½
â”œâ”€â”€ .dockerignore               # âœ… æ–°å»º
â””â”€â”€ docker-compose.yml          # ä¿æŒä¸è®Š
```

---

## ğŸ”— é é¢å°èˆªæ¶æ§‹

```
é¦–é  (home.html)
â”œâ”€â”€ å°èˆª: é¦–é  | æˆ‘çš„è¡£æ«ƒ | ç©¿æ­æ¨è–¦ | åˆ†äº« & äº’å‹•
â”œâ”€â”€ è¼ªæ’­åœ–å±•ç¤º
â””â”€â”€ æµ®å‹• AI å°è©±æ¡† (iframe: /recommend_page)

è¡£æ«ƒ (wardrobe.html)
â”œâ”€â”€ ä¸Šå‚³è¡£ç‰©åŠŸèƒ½
â””â”€â”€ è¡£ç‰©å±•ç¤º

æ¨è–¦ (recommendation.html)
â”œâ”€â”€ èŠå¤©å¼ AI æ¨è–¦
â””â”€â”€ å³æ™‚å°è©±

åˆ†äº« (share.html)
â”œâ”€â”€ ä¸Šå‚³ç©¿æ­
â”œâ”€â”€ ç¤¾ç¾¤äº’å‹•
â””â”€â”€ è©•åˆ†ç³»çµ±

ç™»å…¥ (login.html)
â”œâ”€â”€ ç™»å…¥è¡¨å–®
â””â”€â”€ è¨»å†Šè¡¨å–®
```

---

## ğŸš€ å•Ÿå‹•æŒ‡ä»¤

```bash
# åœæ­¢å®¹å™¨
docker compose down

# é‡æ–°å»ºç½®ä¸¦å•Ÿå‹•
docker compose up --build -d

# æŸ¥çœ‹æ—¥èªŒ
docker compose logs -f flask

# æª¢æŸ¥å®¹å™¨ç‹€æ…‹
docker compose ps
```

---

## âš ï¸ æ³¨æ„äº‹é …

1. **ä¿ç•™èˆŠæª”æ¡ˆ**: èˆŠçš„ HTML æª”æ¡ˆå·²ç§»åˆ° `app/static/old_html_backup/`,å¦‚ç¢ºèªä¸éœ€è¦å¯åˆªé™¤

2. **è³‡æ–™åº«é€£æ¥**: ç¢ºä¿ Docker ç’°å¢ƒä¸­çš„ MySQL å®¹å™¨æ­£å¸¸é‹è¡Œ

3. **API Keys**: 
   - `LLM_API_KEY` (Gemini) - å·²è¨­å®š âœ…
   - `GROQ_API_KEY` - æœªè¨­å®š (å¯é¸)
   - `DEEPSEEK_API_KEY` - æœªè¨­å®š (å¯é¸)

4. **Port å°æ‡‰**: 
   - å®¹å™¨å…§: `5000`
   - æœ¬æ©Ÿ: `5001`
   - è¨ªå•ç¶²å€: `http://localhost:5001`

5. **éœæ…‹è³‡æº**: 
   - CSS/JS æª”æ¡ˆè·¯å¾‘ä½¿ç”¨ `{{ url_for('static', filename='...') }}`
   - åœ–ç‰‡æª”æ¡ˆåœ¨ `app/static/pic/` ç›®éŒ„

---

## ğŸ“ å¾ŒçºŒå»ºè­°

### åŠŸèƒ½é–‹ç™¼
- [ ] å¯¦ä½œè¡£æ«ƒä¸Šå‚³åŠŸèƒ½çš„å¾Œç«¯ API
- [ ] å¯¦ä½œåˆ†äº«åŠŸèƒ½çš„å¾Œç«¯ API
- [ ] å¯¦ä½œç™»å…¥/è¨»å†ŠåŠŸèƒ½
- [ ] å¯¦ä½œç”¨æˆ¶èªè­‰ç³»çµ±

### å‰ç«¯å„ªåŒ–
- [ ] æª¢æŸ¥æ‰€æœ‰é é¢çš„éŸ¿æ‡‰å¼è¨­è¨ˆ
- [ ] æ¸¬è©¦ AI å°è©±æ¡†åœ¨ä¸åŒè¢å¹•å°ºå¯¸çš„é¡¯ç¤º
- [ ] å„ªåŒ–è¼‰å…¥é€Ÿåº¦

### å¾Œç«¯å„ªåŒ–
- [ ] æ·»åŠ éŒ¯èª¤è™•ç†ä¸­é–“ä»¶
- [ ] å¯¦ä½œ API é€Ÿç‡é™åˆ¶
- [ ] æ·»åŠ æ—¥èªŒç³»çµ±

---

## âœ… çµè«–

**å‰å¾Œç«¯å·²æˆåŠŸä¸²æ¥!** 

- æ‰€æœ‰æ–°çš„ä¸­æ–‡ç¶²é éƒ½å·²æ­£ç¢ºè¼‰å…¥
- è·¯ç”±é…ç½®å®Œæˆ
- Docker ç’°å¢ƒé‹è¡Œæ­£å¸¸
- æº–å‚™é€²è¡Œä¸‹ä¸€éšæ®µé–‹ç™¼

**å¯ä»¥é–‹å§‹é€²è¡ŒåŠŸèƒ½é–‹ç™¼å’Œ API å¯¦ä½œã€‚**
