# ====================================
# 生產環境專用依賴套件
# 針對 Docker 容器部署優化
# 符合 Nginx + Gunicorn + MySQL 架構
# ====================================

# 繼承核心依賴
-r requirements.txt

# ====================================
# 生產級 WSGI 服務器 (符合 Docker 規格)
# ====================================
gunicorn==21.2.0
gevent==23.9.1

# 服務器監控與管理
supervisor==4.2.5

# ====================================
# 效能最佳化
# ====================================
# Redis 快取 (未來擴展)
redis==5.0.1
Flask-Caching==2.1.0

# 資料庫連接池最佳化
SQLAlchemy==2.0.23
psycopg2-binary==2.9.9  # PostgreSQL 支援 (備用)

# ====================================
# 安全性強化
# ====================================
# HTTPS 和安全標頭
flask-talisman==1.1.0

# 速率限制
Flask-Limiter==3.6.0

# CSRF 保護
Flask-WTF==1.2.1
WTForms==3.1.1

# ====================================
# 監控與日誌 (符合 OpenSpec 監控需求)
# ====================================
# 結構化日誌
structlog==23.2.0

# 應用程式監控
sentry-sdk[flask]==1.38.0

# 系統監控
psutil==5.9.6

# 健康檢查端點
Flask-HealthCheck==0.1.2

# ====================================
# 資料庫遷移 (生產環境)
# ====================================
Flask-Migrate==4.0.5
alembic==1.13.1

# ====================================
# 靜態檔案處理 (與 Nginx 配合)
# ====================================
Flask-Assets==2.1.0
webassets==2.0

# CSS/JS 壓縮
cssmin==0.2.0
jsmin==3.0.1

# ====================================
# API 和數據處理
# ====================================
# JSON 處理最佳化
orjson==3.9.10

# 圖片處理最佳化
Pillow==10.1.0

# ====================================
# 網路和通信
# ====================================
# HTTP 客戶端最佳化
httpx==0.25.2

# WebSocket 支援 (未來功能)
flask-socketio==5.3.6

# ====================================
# 環境配置
# ====================================
python-dotenv==1.0.0

# 配置驗證
pydantic==2.10.5
pydantic-settings==2.7.0