# Init ç›®éŒ„ä½¿ç”¨èªªæ˜

## ğŸ“‚ æª”æ¡ˆæ¸…å–®

### ä¸»è¦æª”æ¡ˆ (æœƒè¢« Docker è‡ªå‹•åŸ·è¡Œ)

| æª”æ¡ˆåç¨± | èªªæ˜ | ç”¨é€” | æ¨è–¦åº¦ |
|---------|------|------|--------|
| `00_init_with_data.sql` | **è³‡æ–™åº«çµæ§‹ + å®Œæ•´ä¹¾æ·¨è³‡æ–™** | Docker å•Ÿå‹•æ™‚è‡ªå‹•è¼‰å…¥ | â­â­â­ |
| `01_schema_only.sql` | åƒ…è³‡æ–™åº«çµæ§‹ (ç„¡è³‡æ–™) | å‚™ç”¨ç´”æ¶æ§‹æª”æ¡ˆ | â­ |

### åƒè€ƒæª”æ¡ˆ (ä¸æœƒè¢« Docker åŸ·è¡Œ)

| æª”æ¡ˆåç¨± | èªªæ˜ | ç‹€æ…‹ |
|---------|------|------|
| `outfit_db_with_data_clean.sql` | åŸå§‹ä¹¾æ·¨è³‡æ–™æª”æ¡ˆ | åƒè€ƒç”¨ |
| `CLEANUP_SUMMARY.md` | è³‡æ–™æ¸…ç†ç¸½çµå ±å‘Š | èªªæ˜æ–‡ä»¶ |
| `README_SQL_FILES.md` | SQL æª”æ¡ˆä½¿ç”¨æŒ‡å— | èªªæ˜æ–‡ä»¶ |
| `uniqlo_175_colored.csv` | UNIQLO è³‡æ–™ CSV | åŸå§‹è³‡æ–™ |

### å°å­˜æª”æ¡ˆ (archived/)

æ‰€æœ‰èˆŠç‰ˆæœ¬ã€æ¸¬è©¦æª”æ¡ˆå’Œä¸­é–“ç‰ˆæœ¬éƒ½å·²ç§»è‡³ `archived/` ç›®éŒ„ã€‚

---

## ğŸš€ Docker è‡ªå‹•åˆå§‹åŒ–æµç¨‹

Docker æœƒåœ¨é¦–æ¬¡å•Ÿå‹•æ™‚:
1. è‡ªå‹•åŸ·è¡Œ `/docker-entrypoint-initdb.d/` ç›®éŒ„ä¸‹æ‰€æœ‰ `.sql` æª”æ¡ˆ
2. æŒ‰ç…§**æª”åå­—æ¯é †åº**åŸ·è¡Œ
3. åŸ·è¡Œé †åº: `00_init_with_data.sql` â†’ `01_schema_only.sql` (å¦‚æœå­˜åœ¨)

âš ï¸ **é‡è¦**: 
- Docker **åªåœ¨é¦–æ¬¡å•Ÿå‹•**æ™‚åŸ·è¡Œ init è…³æœ¬
- å¦‚æœå®¹å™¨å·²å­˜åœ¨,éœ€è¦å…ˆåˆªé™¤è³‡æ–™å·: `docker-compose down -v`

---

## ğŸ“Š ç•¶å‰è³‡æ–™åº«ç‹€æ…‹

### è³‡æ–™çµ±è¨ˆ
- **ç¸½è³‡æ–™ç­†æ•¸**: 44,708 ç­†
- **ä½¿ç”¨è€…æ•¸é‡**: 50 å€‹

### è³‡æ–™ä¾†æºåˆ†å¸ƒ
| ä¾†æº | ç­†æ•¸ | èªªæ˜ |
|------|------|------|
| styles_dataset | 44,407 | Kaggle æ™‚å°šè³‡æ–™é›† |
| malefashion | 80 | ç”·è£è³‡æ–™ |
| uniqlo | 221 | UNIQLO çˆ¬èŸ²è³‡æ–™ |
| fashion_small | 0 | âœ… å·²å®Œå…¨æ¸…é™¤ |

---

## ğŸ”§ å¸¸ç”¨æ“ä½œ

### 1. é‡å»ºè³‡æ–™åº« (è¼‰å…¥ä¹¾æ·¨è³‡æ–™)

```bash
# å®Œæ•´é‡å»º (æ¨è–¦)
cd /Users/liaoyiting/Desktop/stylerec
docker-compose down -v
docker-compose build mysql
docker-compose up -d mysql

# ç­‰å¾…åˆå§‹åŒ–å®Œæˆ (ç´„ 15 ç§’)
sleep 15

# é©—è­‰è³‡æ–™
docker exec outfit-mysql mysql -uroot -prootpassword outfit_db -e "SELECT COUNT(*) as total FROM items;"
```

### 2. é©—è­‰è³‡æ–™åº«å…§å®¹

```bash
# æŸ¥çœ‹è³‡æ–™ä¾†æºåˆ†å¸ƒ
docker exec outfit-mysql mysql -uroot -prootpassword outfit_db -e \
"SELECT COUNT(*) as total, source FROM items GROUP BY source ORDER BY source;"

# æŸ¥çœ‹æ‰€æœ‰è¡¨æ ¼
docker exec outfit-mysql mysql -uroot -prootpassword outfit_db -e "SHOW TABLES;"

# æŸ¥çœ‹ä½¿ç”¨è€…æ•¸é‡
docker exec outfit-mysql mysql -uroot -prootpassword outfit_db -e "SELECT COUNT(*) FROM users;"
```

### 3. é€£æ¥ DBeaver

é€£æ¥è³‡è¨Š:
- **Host**: localhost
- **Port**: 3306
- **Database**: outfit_db
- **Username**: root
- **Password**: rootpassword

é«˜ç´šè¨­ç½® (è§£æ±ºä¸­æ–‡äº‚ç¢¼):
- `characterEncoding = UTF-8`
- `useUnicode = true`

---

## âš ï¸ é‡è¦æ³¨æ„äº‹é …

### Docker Init æª”æ¡ˆå‘½åè¦å‰‡
- âœ… `00_` é–‹é ­: å„ªå…ˆåŸ·è¡Œ
- âœ… `01_` é–‹é ­: æ¬¡è¦åŸ·è¡Œ
- âŒ é¿å…ä½¿ç”¨ `init.sql`: å®¹æ˜“èˆ‡å…¶ä»–æª”æ¡ˆè¡çª

### æª”æ¡ˆç®¡ç†å»ºè­°
1. **ä¿æŒ init/ ç›®éŒ„ç°¡æ½”**: åªä¿ç•™éœ€è¦çš„åˆå§‹åŒ–è…³æœ¬
2. **èˆŠæª”æ¡ˆç§»åˆ° archived/**: é¿å… Docker èª¤åŸ·è¡Œ
3. **ä½¿ç”¨æ•¸å­—å‰ç¶´**: æ§åˆ¶åŸ·è¡Œé †åº

### è³‡æ–™å®Œæ•´æ€§
- âœ… å·²ç§»é™¤æ‰€æœ‰ fashion_small è™›æ“¬è³‡æ–™
- âœ… å·²æ¸…é™¤æ¸¬è©¦ç”¨çš„å‡è³‡æ–™
- âœ… åªåŒ…å«çœŸå¯¦è³‡æ–™ä¾†æº

---

## ğŸ“ æª”æ¡ˆç‰ˆæœ¬æ­·å²

### v3.0 (2025-12-02) - ç•¶å‰ç‰ˆæœ¬ â­
- **æª”æ¡ˆ**: `00_init_with_data.sql`
- **è³‡æ–™**: 44,708 ç­†ä¹¾æ·¨è³‡æ–™
- **ç‰¹é»**: ç„¡æ¸¬è©¦è³‡æ–™ã€ç„¡è™›æ“¬è³‡æ–™ã€å·²å„ªåŒ–æª”å

### v2.0 (2025-12-02) - å·²å°å­˜
- **æª”æ¡ˆ**: `outfit_db_with_data_clean.sql`
- **ç‹€æ…‹**: å·²ç§»è‡³åƒè€ƒæª”æ¡ˆ

### v1.0 (2025-11-27) - å·²å°å­˜
- **æª”æ¡ˆ**: `outfit_db_with_data.sql`
- **ç‹€æ…‹**: åŒ…å«è™›æ“¬è³‡æ–™,å·²ç§»è‡³ archived/

### æ¸¬è©¦æª”æ¡ˆ - å·²å°å­˜
- **æª”æ¡ˆ**: `init.sql`
- **ç‹€æ…‹**: åŒ…å«æ¸¬è©¦å‡è³‡æ–™,å·²ç§»è‡³ archived/

---

## ğŸ¯ å¿«é€Ÿåƒè€ƒ

### ç•¶å‰è³‡æ–™åº«ç‹€æ…‹
```
âœ… è³‡æ–™åº«: outfit_db (å·²åˆå§‹åŒ–)
âœ… ç¸½è³‡æ–™: 44,708 ç­† items + 50 å€‹ users
âœ… æ¶æ§‹: 5 å€‹è¡¨æ ¼ (users, items, user_wardrobe, partner_products, conversation_history)
âœ… ç‹€æ…‹: ä¹¾æ·¨ç„¡æ¸¬è©¦è³‡æ–™
```

### ä¸‹æ¬¡å•Ÿå‹•
ç›´æ¥åŸ·è¡Œå³å¯ (è³‡æ–™å·²æŒä¹…åŒ–):
```bash
docker-compose up -d
```

### é‡ç½®è³‡æ–™åº«
éœ€è¦åˆªé™¤è³‡æ–™å·:
```bash
docker-compose down -v
docker-compose up -d
```

---

**æ›´æ–°æ—¥æœŸ**: 2025-12-02  
**ç¶­è­·è€…**: AI Team  
**ç•¶å‰ç‰ˆæœ¬**: v3.0
